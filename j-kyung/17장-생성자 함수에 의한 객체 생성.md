# 17장-생성자 함수에 의한 객체 생성
## 17.1 Object 생성자 함수
* 생성자 함수 = new 연산자와 함께 호출하여 객체(인스턴스) 생성 함수
    * 인스턴스 = 생성자 함수에 의해 생성된 객체
* new 연산자 + Object 생성자 함수 호출 -> 빈 객체 생성하며 반환 -> 프로퍼티 or 메서드 추가 -> 객체 완성
* String, Number, Boolean, Function, Array, Date, RegExp, Promise등의 생성자 함수 존재

## 17.2 생성자 함수
- 이름 그대로 객체를 생성하는 함수
- 일반 함수와 동일한 방법으로 생성자 함수 정의, new 연산자와 함께 호출 시 생성자 함수로 동작
    - new 연산자 없으면 일반 함수로 동작
- 인스턴스 생성(필수) + 생성된 인스턴스를 초기화(옵션)
- new와 함께 호출하면 js가 암묵적으로 인스턴스 생성, 초기화, 반환
### 객체 리터럴에 의한 객체 생성 방식 특징
- 직관적이고 간편함
- but, 단 하나의 객체만 생성
### 생성자 함수에 의한 객체 생성 방식 장점
- 객체를 생성하기 위한 템플릿 처럼 생성자 함수를 사용하여 프로퍼티 구조가 동일한 객체 여러 개를 간편하게 생성
> ### this
> - 객체 자신의 프로퍼티나 메서드를 참조하기 위한 `자기 참조 변수`
> - this가 가리키는 값(this 바인딩)은 함수 호출 방식에 따라 동적으로 결정
>   - 일반 함수로서 호출 - 전역 객체
>   - 메서드로서 호출 - 메서드를 호출한 객체
>   - 생성자 함수로서 호출 - 생성자 함수가 생성할 인스턴스

1. 인스턴스 생성과 this 바인딩
- 바인딩 : 식별자와 값을 연결하는 과정
- this 바인딩은 this와 this가 가리킬 객체를 바인딩
    - 암묵적 빈 객체 생성
    - 빈 객체(인스턴스) this에 바인딩
    - => 런타임 이전에 실행
2. 인스턴스 초기화
- 생성된 함수에 기술되어 있는 코드가 한 줄씩 실행 -> this에 바인딩되어 있는 인스턴스 초기화
- this에 바인딩 되어 있는 인스턴스에 프로퍼티 or 메서드 추가 -> 생성자 함수가 인수로 전달받은 초기값을 인스턴스 프로퍼티에 할당하여 초기화 or 고정값 할당 (=> 개발자가 기술함)
3. 인스턴스 반환
- 생성자 함수 내부의 모든 처리가 끝나면 완성된 인스턴스가 바인딩된 this가 암묵적으로 반환
- this가 아닌 다른 객체 명시적 반환 -> this 반환 X, return문에 명시한 객체가 반환!
- but, 원시 값 반환 시 무시하며 암묵적으로 this 반환함
### 함수 객체 (with 일반 객체)
> - 일반 객체 - 호출 X
> - 함수 객체 - 호출 O

- 함수로 동작하기 위해 내부 슬롯 Environment, FormalParameters와 내부 메서드 Call, Constructor를 `추가로` 가지고 있음
- 일반 함수로 호출 시 Call 호출
- new 연산자와 함께 생성자 함수로 호출 시 Constructor 호출
- callable = 내부 메서드 call을 가지는 함수 객체
    - 호출할 수 있는 객체 = 함수
- constructor = 내부 메서드 constructor을 가지는 함수 객체
    - = 생성자 함수로서 호출할 수 있는 함수(<->non-constructor)

### 일반 함수 vs 생성자 함수
> 일반함수
> - new 연산자 없이 호출
> - 함수 객체의 내부 메서드 Constructor 호출 X, call 호출

> 생성자 함수
> - new 연산자와 함께 호출
> - 함께 호출하는 함수가 constructor 이어야 함
> - 일반적으로 첫 문자를 대문자로 기술하는 파스칼 케이스로 명명해서 일반 함수와 구별함

### new.target
- this와 유사하게 constructor인 모든 함수 내부에서 암묵적인 지역 변수와 같이 사용(=메타 프로퍼티)
- 함수 내부에서 사용 시 new 연산자와 함께 생성자 함수로서 호출되었는지 확인 가능
> - new O - 함수 내부의 new.target은 함수 자신을 가리킴
> - new X - 함수 내부의 new.target은 undefined
>   - new 연산자와 함께 재귀 호출을 통해 생성자 함수로서 호출 가능!

- 대부분의 빌트인 생성자 함수는 new와 함께 호출되었는지 확인 후 적절한 값 반환
- Object, Function 생성자 함수
    - new없이 호출해도 호출한거처럼 동일하게 동작
- String, Number, Boolean 생성자 함수
    - new 연산자 있으면 객체 생성 -> 반환
    - new 연산자 없으면 문자열, 숫자, 불리언 값 반환 => `데이터 타입 변환`
