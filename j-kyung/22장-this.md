# 22장-this
## 22.1 this 키워드
- 자신이 속한 객체 or 자신이 생성할 인스턴스를 가리키는 `자기 참조 변수`
- 자신이 속한 객체 or 자신이 생성할 인스턴스의 프로퍼티나 메서드 참조 가능
- js 엔진에 의해 암묵적으로 생성, 코드 어디서든 참조 가능(전역에서도, 함수 내부에서도)
- this 바인딩(this가 가리키는 값)은 함수 호출 방식에 의해 동적으로 결정
    - this 바인딩 : this와 this가 가리킬 객체를 식별자와 값을 연결(바인딩)
- 전역에서 this -> 전역 객체 window
- 일반 함수 내부에서 this-> 전역 객체 window
- 메서드 내부에서 this -> 메서드를 관찰한 객체
- 생성자 함수 내부 -> 생성자 함수 생성할 인스턴스
- 일반적으로 객체의 메서드 내부 or 생성자 함수 내부에서만 의미 있음
### 객체 리터럴 방식으로 생성한 객체
- 메서드 내부에서 메서드 자신이 속한 객체를 가리키는 식별자를 재귀적으로 참조 가능
### 생성자 함수 방식으로 생성한 인스턴스
- 생성자 함수를 먼저 정의한 후 new 연산자와 함께 생성자 함수 호출하는 단계가 추가로 필요
- 생성자 함수가 존재해야 생성 가능

## 22.2 함수 호출 방식과 this 바인딩
### 렉시컬 스코프 vs this 바인딩
- 렉시컬 스코프 : 함수 정의가 평가되어 함수 객체가 생성되는 시점에 상위 스코프 결정
- this 바인딩 : 함수 호출 시점에 결정
### 함수 호출 방식
1. 일반 함수 호출
2. 메서드 호출
3. 생성자 함수 호출
4. Function.prototype.apply/call/bind 메서드에 의한 간접 호출
### 일반 함수 호출
- 전역 함수, 중첩함수, 콜백함수를 일반 함수로 호출 -> 함수 내부의 this에는 전역 객체가 바인딩
- 메서드 내에서 정의한 중첩 함수도 일반 함수로 호출 -> 메서드 내부의 this에는 전역 객체가 바인딩
- 메서드 내부의 중첩 함수나 콜백 함수의 this 바인딩을 메서드의 this 바인딩과 일치 시키려면 this 바인딩을 변수에 할당해서 this 대신 변수를 참조
- Function.prototype.apply/call/bind 메서드 or 화살표 함수(화살표 함수 내부의 this는 상위 스코프의 this를 가리킴)
### 메서드 호출
- 메서드 호출할 때 메서드 이름 앞의 마침표 연산자 앞에 기술한 객체가 바인딩
    - 메서드를 호출한 객체에 바인딩 (this 메서드 소유한 객체가 바인딩되지 않음)
### 생성자 함수 호출
- 생성자 함수가 생성할 인스턴스가 바인딩
### Function prototype.apply/call/bind 메서드에 의한 간접 호출
- 모든 함수가 상속받아 사용 가능
- this로 사용할 객체와 인수 리스트를 인수로 전달받아 함수 호출
- 사용법
    - Function.prototype.apply(thisArg[,argsArray])
    - Function.prototype call(thisArg[,arg1[,arg2[,...]]])
- apply 메서드 = 호출할 함수의 인수를 `배열`로 묶어 전달
- call 메서드 = 호출할 함수의 인수를 `쉼표로 구분한 리스트 형식`으로 전달
- Function.prototype.bind 메서드 - 함수 호출 X, 첫번째 인수로 전달한 값으로 this 바인딩이 교체된 함수를 새롭게 생성해 반환
    - 메서드의 this와 메서드 내부의 중첩 함수 or 콜백 함수의 this가 `불일치하는 문제를 해결`하기 위해 유용하게 사용