# 전역 변수의 문제점
## 변수의 생명 주기
- 전역 변수의 생명 주기는 애플리케이션의 생명 주기와 같다
- 지역 변수의 생명주기는 함수의 생명 주기와 일치한다.
- 단, 누군가 스코프를 참조하고 있으면 스코프는 소멸하지 않고 생존 (클로저 개념)
- 호이스팅은 스코프 단위로 동작한다.
```js
var x = 'global';

function foo() {
  
  console.log(x); // undefined
  var x = 'local';
}

foo();
console.log(x); // global
```
### 전역 객체
- 전역 객체는 코드가 실행 되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체 보다도 먼저 생성되는 특수한 객체
- 브라우저 에서는 window가 전역객체, node.js에서는 global 이 전역객체
- var 키워드로 선언한 전역 변수의 생명 주기는 전역 객체의 생명 주기와 일치한다. 

## 전역 변수의 문제점
1. 암묵적 결합
2. 긴 생명 주기
3. 스코프 체인 상에서 종점에 존재
> 전역 변수의 검색 속도가 가장 느리다는 것을 의미
4. 네임스페이스 오염
> 파일이 분리 되어있어도 전역 스코프를 공유할 수 있다.

## 전용 변수 사용 억제
- 지역 변수 사용 권장, 스코프는 좁을 수록 좋다.
1. 즉시실행 함수
	- 모든 코드를 즉시 실행 함수로 감싸면 모든 변수는 즉시 실행 함수의 지역 변수가 된다.
	```js
	(function () {
	  var foo = 10; // 즉시 실행 함수의 지역 변수
	  // ...
	}());

	console.log(foo); // ReferenceError: foo is not defined
	```

2. 네임스페이스 객체
	- 전역에 네임스페이스 역할을 담당할 객체를 생성하고 전역변수 처럼 사용하고 싶은 변수를 프로퍼티로 추가하는 방법
	
3. 모듈 패턴
	- 관련 있는 변수와 함수를 모아서 즉시 실행 함수로 감싸 하나의 모듈을 만드는 방법
	- 클로저 기반으로 동작
	- 정보 은닉을 구현하기 위해 사용

4. es6 모듈
	- es6 모듈은 파일 자체의 독자적인 모듈 스코프를 제공
	- script 태그에 `type=module` 어트리뷰트를 추가하면 모듈로 동작


